<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <title>Untitled Page</title>

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
  <style type="text/css">
    .sex {
      position: absolute;
      width: 200px;
      height: 220px;
      background: #2E2E2E;
      top: 50px;
      left: 50px;

    }
    .note {
      position: absolute;
      width: 200px;
      height: 220px;
      background: #f50000;
      top: 150px;
      left: 50px;

    }
  </style>

  <script>
    $(function () {


     let sex = $(".sex");
      updatePositionSex(sex);

      sex.draggable({
        stop: function () {

         let sexleft = this.offsetLeft;
         let sextop = this.offsetTop;

          sessionStorage.setItem("sexleft", sexleft);
          sessionStorage.setItem("sextop", sextop);
        }
      });

      window.addEventListener("sexstorage", function () {
        updatePositionSex(sex);
      },

        false); 


    });

    function updatePositionSex(sex) {

     let sexleft = sessionStorage.getItem("sexleft");
     let sextop= sessionStorage.getItem("sextop");
      sex.css({ left: sexleft + "px", top: sextop + "px" });

      sex[0].offsetTop = sextop;
      sex[0].offsetLeft = sexleft;


    }
  </script>










<script>
  $(function () {
     let note = $(".note");
      updatePositionNote(note);

      note.draggable({ stop: function () {
        console.log(this);
        let noteleft = this.offsetLeft;
        let notetop = this.offsetTop;

          sessionStorage.setItem("noteleft", noteleft);
          sessionStorage.setItem("notetop", notetop);
      }
      });

      window.addEventListener("storage", function () {
          updatePositionNote(note);
      }, 
      false);
  });

      function updatePositionNote(note) {

    let noteleft = sessionStorage.getItem("noteleft");
    let notetop = sessionStorage.getItem("notetop");
      note.css({ left:noteleft + "px", top: notetop + "px" });
        
      note[0].offsetTop = notetop;
      note[0].offsetLeft = noteleft
      }

</script>


</head>

<body>

  <div class="sex"></div>
  <div class="note"></div>

</body>

</html>